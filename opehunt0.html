<!DOCTYPE html>
<html>
<head>
	<title>Punainen palikka -peli</title>
	<style type="text/css">
		#game-board {
			width: 500px;
			height: 400px;
			border: 1px solid black;
			position: relative;
		}
		.block {
			position: absolute;
			width: 30px;
			height: 30px;
			border: 1px solid black;
		}
		#red-block {
			background-color: red;
		}
		#blue-block {
			background-color: blue;
		}
	</style>
</head>
<body>
	<div id="game-board">
		<div id="red-block" class="block"></div>
		<div id="blue-block-1" class="block"></div>
		<div id="blue-block-2" class="block"></div>
		<div id="blue-block-3" class="block"></div>
		<div id="blue-block-4" class="block"></div>
	</div>

	<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
	<script>
  // Määritä pelialueen leveys ja korkeus
var boardWidth = 500;
var boardHeight = 400;

// Määritä punaisen ja sinisten palikoiden koot
var blockSize = 30;

// Alusta pelialue ja palikat
var $gameBoard = $('#game-board');
var $redBlock = $('#red-block');
var $blueBlocks = $('.block').not('#red-block');

// Aseta punaisen palikan alkuasema
$redBlock.css({
	top: boardHeight - blockSize,
	left: (boardWidth - blockSize) / 2
});

// Liikuta punaista palikkaa hiiren mukana
$gameBoard.on('mousemove', function(event) {
	var mouseX = event.pageX - $gameBoard.offset().left;
	var blockX = mouseX - (blockSize / 2);
	if (blockX < 0) {
		blockX = 0;
	}
	if (blockX > (boardWidth - blockSize)) {
		blockX = boardWidth - blockSize;
	}
	$redBlock.css('left', blockX);
});

// Liikuta sinisiä palikoita satunnaisiin suuntiin
setInterval(function() {
	$blueBlocks.each(function() {
		var $block = $(this);
		var currentTop = parseInt($block.css('top'));
		var currentLeft = parseInt($block.css('left'));
		var moveTop = currentTop + getRandomInt(-10, 10);
		var moveLeft = currentLeft + getRandomInt(-10, 10);
		if (moveTop < 0 || moveTop > (boardHeight - blockSize)) {
			moveTop = currentTop;
		}
		if (moveLeft < 0 || moveLeft > (boardWidth - blockSize)) {
			moveLeft = currentLeft;
		}
		$block.css({
			top: moveTop,
			left: moveLeft
		});
	});
}, 100);

// Apufunktio satunnaisen kokonaisluvun generoimiseen
function getRandomInt(min, max) {
	return Math.floor(Math.random() * (max - min + 1)) + min;
}
</script>
</body>
</html>
